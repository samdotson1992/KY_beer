<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <title>Loading markers from CSV</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />
    <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>
    <script src="Leaflet.geoCSV/leaflet.geocsv.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Cabin+Sketch|Roboto" rel="stylesheet">
    <link href="easy-button.css" rel="stylesheet">
    <script src="easy-button.js">


    </script>


    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://domoritz.github.io/leaflet-locatecontrol/dist/L.Control.Locate.min.css" />

    <script src="https://domoritz.github.io/leaflet-locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8"></script>

    <style>
        #map {
            width: 98%;
            height: 450px
        }
        
        #fine_print {
            font-size: .9em;
            font-family: 'Roboto', sans-serif;
        }
        
        .header {
            font-family: 'Cabin Sketch', cursive;
            font-size: 9em !important;
        }
        
        .text{
            font-family: 'Roboto', sans-serif;
        }

    </style>
</head>

<body>


    <div class="container">

        <h1 class="header">Kentucky Beer</h1>
    </div>

    <center>
        <div class="container-fluid">

            <div id='map'></div>
        </div>
    </center>
    <div>

    </div>


    <script>
        L.mapbox.accessToken = 'pk.eyJ1Ijoic2FtZG90c29uMTk5MiIsImEiOiJRc2VOSXpvIn0.Bhg-j6XJ2sQGI48SjKOuYg';
        var map = L.mapbox.map('map', 'mapbox.streets')
            .setView([38.03785, -84.850783], 7);

        var customLayer = L.geoJson(null, {
            // http://leafletjs.com/reference.html#geojson-style
            style: function(feature) {
                return {
                    color: 'grey',
                    opacity: .7,

                };
            }
        });

        var x = document.getElementById("demo");

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
            x.innerHTML = "Latitude: " + position.coords.latitude +
                "<br>Longitude: " + position.coords.longitude;
        }

        omnivore.topojson("KY-21-kentucky-counties.topojson", null, customLayer).addTo(map);

        omnivore.csv("KY_breweries.csv", null, customLayer).bindPopup(function(layer) {
            return "<h1>" + layer.feature.properties.name + "</h1> <br>"
        }).addTo(map);


        L.control.locate().addTo(map);


        L.easyButton('fa-home', function() {
            map.setView([38.03785, -84.850783], 7);
        }).addTo(map);

    </script>
</body>

</html>
